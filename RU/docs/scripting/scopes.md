# Области видимости
Области видимости определяют, какие переменные можно использовать и откуда. Область видимости — это, по сути, соответствие имён и значений.
Они работают так же, как и в Python.

Существует глобальная область видимости, и каждая функция имеет локальную область видимости.
Когда вы определяете переменную, она добавляется в текущую область видимости.
Всё, что находится вне определения функции, считается частью глобальной области видимости.

`x = 1`
Присваивает значение `1` имени `x` в глобальной области видимости.

Этот оператор `def` присваивает функцию имени `f` в глобальной области видимости.
`def f():
    `Присваивает значение `1` имени `y` в локальной области видимости `f`.`
    y = 1

    `Присваивает функцию имени `g` в локальной области видимости `f`.`
    def g():
        pass`

`f()`
Извлекает функцию, сохранённую в `f` из глобальной области видимости, и вызывает её.

`print(y)`
Эта инструкция печати в глобальной области видимости вызывает ошибку, потому что `y` никогда не была объявлена в глобальной области видимости, и мы не можем её здесь прочитать.
Она существовала только в локальной области видимости `f`.

## Ключевое слово global
По умолчанию все переменные в функциях связаны с локальной областью видимости, даже если переменная с тем же именем существует в глобальной области видимости.

`x == 0

def f():
    x = 1
f()
print(x)`

Этот код выводит `0`, потому что локальная `x` внутри `f` не является той же переменной, что и глобальная `x`, поэтому глобальная `x` остаётся неизменной. Это важно, потому что иначе вызов функции мог бы случайно переопределить глобальную переменную, которая просто совпала по имени с локальной переменной этой функции.

Если вы хотите записать в глобальную переменную, вы должны сделать это явно, используя ключевое слово `global`.

`x == 0

def f():
    global x
    x = 1
f()
print(x)`

В этом примере `global x` связывает `x` с глобальной переменной `x`, определённой выше. Теперь это выведет `1`.
Обратите внимание, что изменение глобальных переменных обычно является первым шагом к "спагетти-коду", где каждая часть программы влияет на каждую другую, так что не злоупотребляйте этим.

## Циклы и ветвления
Циклы и ветвления не создают свои собственные области видимости, поэтому всё, что объявлено в них, может быть использовано и за их пределами.

`for i in range(3):
    pass
print(i)`

Это выведет `2`, потому что на последней итерации цикла `for` `i` было присвоено значение `2`.