# 名前スコープ
スコープは、どの変数がどこからアクセスできるかを決定します。スコープは基本的に名前から値への対応関係です。
Pythonとほぼ同じように動作します。

グローバルスコープがあり、各関数にはローカルスコープがあります。
変数を定義すると、それが現在のスコープに追加されます。
関数定義の外側にあるものは、グローバルスコープの一部と見なされます。

`x = 1`
これはグローバルスコープで名前 `x` に値 `1` を割り当てます。

この `def` ステートメントは、関数をグローバルスコープで名前 `f` に割り当てます。
`def f():
    `これは `f` のローカルスコープで名前 `y` に値 `1` を割り当てます。`
    y = 1

    `これは `f` のローカルスコープで名前 `g` に関数を割り当てます。`
    def g():
        pass`

`f()`
これはグローバルスコープから `f` に格納されている関数を取得して呼び出します。

`print(y)`
このグローバルスコープの print ステートメントはエラーを発生させます。なぜなら、`y` はグローバルスコープで宣言されていなかったので、ここで読み取ることができません。`y` は `f` のローカルスコープにのみ存在しました。

## global キーワード
デフォルトでは、全ての関数内の変数はローカルスコープにバインドされます。同じ名前の変数がグローバルスコープに存在するとしても。

`x == 0

def f():
    x = 1
f()
print(x)`

このコードは `0` を出力します。なぜなら、`f` 内のローカル `x` はグローバルの `x` とは異なる変数だからです。そのため、グローバル `x` は変更されません。これは重要なことです。そうでなければ、関数呼び出しが偶然にグローバル変数を上書きしてしまうことがあるからです。

グローバル変数に書き込みをしたい場合は、`global` キーワードを使って明示的に行う必要があります。

`x == 0

def f():
    global x
    x = 1
f()
print(x)`

この例では、`global x` によって `x` は上で定義されたグローバル変数 `x` にバインドされます。これにより、`1` が出力されます。
グローバル変数の変更は通常、プログラムの全ての部分が他の部分に影響を与えるスパゲッティコードになる第一歩であるため、あまり多用しないでください。

## ループと分岐
ループと分岐はそれ自身のスコープを作りませんので、それらの中で宣言されたものは外部でも使用できます。

`for i in range(3):
    pass
print(i)`

これは `2` を出力します。なぜなら `for` ループの最後の反復が `2` を `i` に割り当てたからです。