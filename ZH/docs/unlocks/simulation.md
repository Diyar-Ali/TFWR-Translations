# 模拟

模拟允许你快速测试代码，而不会改变真实农场的状态。模拟的初始状态可以自由选择，当模拟结束时，真实农场会保持在模拟开始前的状态。

`simulate()` 函数用于启动模拟。

执行应从以下文件开始
`filename = "f1"`

以所有内容解锁并完全升级的状态开始
`sim_unlocks = Unlocks`

以10000个胡萝卜和50个干草开始
`sim_items = {Items.Carrot : 10000, Items.Hay : 50}`

以一个值为13的全局变量 "a" 开始
`sim_globals = {"a" : 13}`

使用固定的随机种子
`seed = 0`

将模拟速度提高64倍
`speedup = 64`

运行模拟
`run_time = simulate(filename, sim_unlocks, sim_items, sim_globals, seed, speedup)`

`simulate()` 函数返回用于模拟给定开始文件的时间，以秒为单位。

### 文件名

simulate 函数的第一个参数是文件名。这是代码窗口顶部显示的名称。模拟将运行指定文件，就像你点击执行按钮一样。

### 初始解锁

所有编程功能如循环、if语句、列表、dict等将始终保持解锁状态。

第二个参数允许你指定除了编程功能之外，模拟还应该从哪些解锁/升级开始。这应是一个解锁的序列。模拟将从序列中的所有解锁升级到最高级别开始。

如果你想指定一个非最高级别的升级，可以传递一个将解锁映射到解锁级别的字典。在这种情况下，负值对应于最大解锁级别。

### 初始物品

第三个参数允许你传递一个将物品映射到数量的字典。它指定了模拟开始时的物品。

### 初始全局变量

因为模拟开始一个全新的程序执行，你无法访问启动模拟的程序中的变量。
然而，可以通过第四个参数将值传递给模拟。这是一个将变量名称（以字符串形式）映射到值的dict。这些变量然后被添加到模拟内部执行的全局scope中。

注意这会复制所有值，因此在模拟中改变它们不会影响模拟外部的原始值。除了运行时间之外，不可能从模拟中返回值。

### 随机种子

第五个参数允许你指定模拟中使用的随机种子。这必须是一个正整数。负值将导致使用随机种子。

随机种子影响从植物生长时间到迷宫布局再到水分衰减时间的一切。如果你用相同的随机种子和相同的起始条件多次启动相同的模拟，结果应该始终相同。

### 加速

第六个参数是模拟的初始加速。这允许你快速测试事物。如果游戏无法跟上设定的速度，它将自动减速。

加速不会以任何方式影响模拟的结果。它的存在只是为了减少等待时间。